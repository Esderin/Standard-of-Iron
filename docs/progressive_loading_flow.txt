```
PROGRESSIVE MAP LOADING FLOW
=============================

┌─────────────────────────────────────────────────────────────────────┐
│                        User Opens Map Select                         │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
                  ┌──────────────────────────────┐
                  │  QML: onVisibleChanged       │
                  │  Calls: game.startLoadingMaps()│
                  └──────────────┬───────────────┘
                                 │
                                 ▼
         ┌───────────────────────────────────────────────┐
         │   GameEngine::startLoadingMaps()              │
         │   - Clears m_availableMaps                    │
         │   - Calls m_mapCatalog->loadMapsAsync()       │
         └───────────────────┬───────────────────────────┘
                             │
                             ▼
         ┌───────────────────────────────────────────────┐
         │   MapCatalog::loadMapsAsync()                 │
         │   - Sets m_loading = true                     │
         │   - Emits loadingChanged(true)                │
         │   - Scans assets/maps/*.json                  │
         │   - Schedules loadNextMap() with QTimer       │
         └───────────────────┬───────────────────────────┘
                             │
                             ▼
         ┌───────────────────────────────────────────────┐
         │   QML: mapsLoading becomes true               │
         │   - Shows loading spinner in list             │
         │   - Shows loading indicator in right panel    │
         └───────────────────┬───────────────────────────┘
                             │
                             ▼
         ╔═══════════════════════════════════════════════╗
         ║           PROGRESSIVE LOADING LOOP            ║
         ╚═══════════════════════════════════════════════╝
                             │
                    ┌────────┴────────┐
                    │                 │
                    ▼                 │
    ┌───────────────────────────┐    │
    │ MapCatalog::loadNextMap() │    │
    │ - Takes next file         │    │
    │ - Calls loadSingleMap()   │    │
    │ - Emits mapLoaded(data)   │────┤
    └───────────────┬───────────┘    │
                    │                 │
                    ▼                 │
    ┌──────────────────────────────┐ │
    │ GameEngine receives signal   │ │
    │ - Appends to m_availableMaps │ │
    │ - Emits availableMapsChanged()│ │
    └───────────────┬──────────────┘ │
                    │                 │
                    ▼                 │
    ┌──────────────────────────────┐ │
    │ QML: mapsModel updates       │ │
    │ - New map appears in list    │ │
    │ - User can select it now     │ │
    └───────────────┬──────────────┘ │
                    │                 │
                    ▼                 │
       QTimer::singleShot(10ms) ─────┘
       (Next map after delay)

                    │
                    ▼ (When all maps loaded)
         ┌───────────────────────────────────────────────┐
         │   MapCatalog finishes                         │
         │   - Sets m_loading = false                    │
         │   - Emits loadingChanged(false)               │
         │   - Emits allMapsLoaded()                     │
         └───────────────────┬───────────────────────────┘
                             │
                             ▼
         ┌───────────────────────────────────────────────┐
         │   QML: mapsLoading becomes false              │
         │   - Hides loading indicators                  │
         │   - All maps are now selectable               │
         └───────────────────────────────────────────────┘


UI STATES DURING LOADING
=========================

STATE 1: Initial Load (mapsLoading=true, list.count=0)
┌─────────────────────────────────────────────────────┐
│ LEFT PANEL          │  RIGHT PANEL                  │
│                     │                               │
│ ┌─────────────────┐ │  ┌──────────────────────────┐ │
│ │      Maps       │ │  │  Select a map            │ │
│ │      (0)        │ │  │                          │ │
│ ├─────────────────┤ │  │         ⟳                │ │
│ │                 │ │  │   Loading maps...         │ │
│ │       ⟳         │ │  │                          │ │
│ │ Loading maps... │ │  └──────────────────────────┘ │
│ │                 │ │                               │
│ └─────────────────┘ │                               │
└─────────────────────────────────────────────────────┘

STATE 2: Partial Load (mapsLoading=true, list.count=2)
┌─────────────────────────────────────────────────────┐
│ LEFT PANEL          │  RIGHT PANEL                  │
│                     │                               │
│ ┌─────────────────┐ │  ┌──────────────────────────┐ │
│ │      Maps       │ │  │ ► Test Map               │ │
│ │      (2)        │ │  ├──────────────────────────┤ │
│ ├─────────────────┤ │  │ Test Map                 │ │
│ │ 🗺 Test Map    │ │  │ A basic test map...      │ │
│ │   Description  │ │  │                          │ │
│ ├─────────────────┤ │  │ Players: [1][2]          │ │
│ │ 🗺 Two Player  │ │  │ + Add CPU                │ │
│ │   2 players... │ │  └──────────────────────────┘ │
│ ├─────────────────┤ │                               │
│ │       ⟳         │ │  (User can interact with     │
│ └─────────────────┘ │   loaded maps while          │
│                     │   more are loading)          │
└─────────────────────────────────────────────────────┘

STATE 3: Loading Complete (mapsLoading=false)
┌─────────────────────────────────────────────────────┐
│ LEFT PANEL          │  RIGHT PANEL                  │
│                     │                               │
│ ┌─────────────────┐ │  ┌──────────────────────────┐ │
│ │      Maps       │ │  │ ► Survival Challenge     │ │
│ │      (5)        │ │  ├──────────────────────────┤ │
│ ├─────────────────┤ │  │ Survival Challenge       │ │
│ │ 🗺 Test Map    │ │  │ Test your survival...    │ │
│ ├─────────────────┤ │  │                          │ │
│ │ 🗺 Two Player  │ │  │ Players: [1][2][3][4]    │ │
│ ├─────────────────┤ │  │ + Add CPU                │ │
│ │ 🗺 Team Battle │ │  └──────────────────────────┘ │
│ ├─────────────────┤ │                               │
│ │ 🗺 Survival    │ │  (All maps loaded and ready)  │
│ ├─────────────────┤ │                               │
│ │ 🗺 Width/Depth │ │                               │
│ └─────────────────┘ │                               │
└─────────────────────────────────────────────────────┘


SIGNAL FLOW DIAGRAM
===================

C++ Backend                              QML Frontend
━━━━━━━━━━━                              ━━━━━━━━━━━━

MapCatalog                               MapSelect.qml
    │                                        │
    │ loadingChanged(true) ─────────────────>│ mapsLoading: true
    │                                        │ → Shows spinners
    │                                        │
    │ mapLoaded(map1) ───────────────────────>│ mapsModel[0] = map1
    │                                        │ → Map1 appears
    │                                        │
    │ mapLoaded(map2) ───────────────────────>│ mapsModel[1] = map2
    │                                        │ → Map2 appears
    │                                        │
    │ mapLoaded(map3) ───────────────────────>│ mapsModel[2] = map3
    │                                        │ → Map3 appears
    │                                        │
    │ allMapsLoaded() ───────────────────────>│
    │ loadingChanged(false) ─────────────────>│ mapsLoading: false
    │                                        │ → Hides spinners
    ▼                                        ▼


TIMING DIAGRAM
==============

Time    Event
────    ─────
0ms     User opens MapSelect → startLoadingMaps()
1ms     MapCatalog starts, emits loadingChanged(true)
2ms     Scans directory, finds 5 maps
2ms     Schedules loadNextMap() immediately (delay=0)
2ms     → Loads map1.json
3ms     → Emits mapLoaded(map1)
3ms     → QML: Map1 appears in list
3ms     → Schedules loadNextMap() with 10ms delay
13ms    → Loads map2.json
14ms    → Emits mapLoaded(map2)
14ms    → QML: Map2 appears in list
14ms    → Schedules loadNextMap() with 10ms delay
24ms    → Loads map3.json
25ms    → Emits mapLoaded(map3)
...     (continues until all maps loaded)
50ms    → All 5 maps loaded
51ms    → Emits loadingChanged(false), allMapsLoaded()
51ms    → QML: Loading indicators disappear

Total: ~50ms for 5 maps (responsive throughout)
```
